<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RadioZZA | Live Stream</title>
    <!-- Favicon -->
    <link rel="icon" type="image/png" href="https://raw.githubusercontent.com/radiozza/RZZA/main/avatar-01.png">
    <style>
        :root { --bg-color: #0f1115; --card-bg: #181b21; --accent-color: #2ecc71; --text-main: #ffffff; --text-muted: #8b9bb4; --border-radius: 16px; }
        * { box-sizing: border-box; margin: 0; padding: 0; }
        body { font-family: sans-serif; background-color: var(--bg-color); color: var(--text-main); height: 100vh; display: flex; justify-content: center; align-items: center; overflow: hidden; }
        .player-container { width: 100%; max-width: 400px; height: 100%; max-height: 800px; background-color: var(--card-bg); display: flex; flex-direction: column; position: relative; box-shadow: 0 20px 50px rgba(0,0,0,0.5); }
        @media (min-width: 450px) { .player-container { height: 90vh; border-radius: var(--border-radius); } }
        header { padding: 20px; display: flex; justify-content: space-between; align-items: center; }
        .visual-area { flex: 1; display: flex; justify-content: center; align-items: center; padding: 20px; }
        .art-frame { width: 280px; height: 280px; border-radius: 20px; overflow: hidden; box-shadow: 0 10px 30px rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.1); background-color: #000; }
        .art-frame img { width: 100%; height: 100%; object-fit: cover; }
        .track-info { padding: 0 20px; text-align: center; margin-bottom: 20px; }
        .track-title { font-size: 1.8rem; font-weight: 700; margin-bottom: 8px; letter-spacing: -0.5px; }
        .track-artist { color: var(--text-muted); font-size: 1rem; }
        .controls { padding: 20px; display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
        .control-btn { background: none; border: none; color: var(--text-main); cursor: pointer; display: flex; align-items: center; justify-content: center; }
        .btn-main { width: 70px; height: 70px; background-color: var(--text-main); color: var(--bg-color); border-radius: 50%; font-size: 1.5rem; box-shadow: 0 4px 15px rgba(255,255,255,0.2); }
        .btn-like.active { color: #e74c3c; animation: pop 0.3s ease; }
        .progress-bar { width: 100%; height: 4px; background-color: rgba(255,255,255,0.1); border-radius: 2px; overflow: hidden; position: relative; }
        .progress-fill { position: absolute; left: 0; top: 0; height: 100%; width: 0%; background-color: var(--accent-color); transition: width 0.5s linear; }
        .up-next { background-color: rgba(255,255,255,0.05); margin: 20px; padding: 15px; border-radius: 12px; display: flex; align-items: center; justify-content: space-between; border: 1px solid rgba(255,255,255,0.05); }
        .up-next-title { font-size: 0.9rem; font-weight: 600; }
        svg { fill: currentColor; width: 24px; height: 24px; }
        .status-badge { display: none; color: var(--accent-color); font-size: 0.7rem; font-weight: bold; text-transform: uppercase; }
        .playing .status-badge { display: block; }
        .playing .art-frame img { animation: pulse 4s infinite ease-in-out; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }
    </style>
</head>
<body>
    <div class="player-container" id="playerContainer">
        <header>
            <button class="control-btn"><svg viewBox="0 0 24 24"><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg></button>
            <div class="status-badge">‚óè ON AIR</div>
            <button class="control-btn"><svg viewBox="0 0 24 24"><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg></button>
        </header>
        <section class="visual-area">
            <div class="art-frame">
                <!-- Logo Image (Raw URL for embedding) -->
                <img src="https://raw.githubusercontent.com/radiozza/RZZA/main/avatar-01.png" alt="RadioZZA Logo">
            </div>
        </section>
        <section class="track-info">
            <div class="track-title">RadioZZA</div>
            <div class="track-artist">Live Broadcast</div>
        </section>
        <div style="padding:0 20px;"><div class="progress-bar"><div class="progress-fill" id="progressFill"></div></div></div>
        <section class="controls">
            <button class="control-btn"><svg viewBox="0 0 24 24"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/></svg></button>
            <button class="control-btn btn-main" id="playBtn">
                <svg id="playIcon" viewBox="0 0 24 24" style="margin-left:4px"><path d="M8 5v14l11-7z"/></svg>
                <svg id="pauseIcon" viewBox="0 0 24 24" style="display:none"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
            </button>
            <button class="control-btn"><svg viewBox="0 0 24 24"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/></svg></button>
        </section>
        <section class="controls" style="justify-content:center; gap:40px; margin-top:-10px;">
            <button class="control-btn btn-like" id="likeBtn"><svg viewBox="0 0 24 24"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg></button>
        </section>
        <div class="up-next">
            <div><div style="font-size:0.7rem;color:#8b9bb4;text-transform:uppercase">Up next</div><div class="up-next-title">NemiBakhshim</div></div>
            <button class="control-btn"><svg viewBox="0 0 24 24"><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg></button>
        </div>
    </div>
    <script>
        const playBtn = document.getElementById('playBtn');
        const playIcon = document.getElementById('playIcon');
        const pauseIcon = document.getElementById('pauseIcon');
        const container = document.getElementById('playerContainer');
        const likeBtn = document.getElementById('likeBtn');
        const progressFill = document.getElementById('progressFill');
        const STREAM_URL = "http://localhost:8000/radio"; 
        let audio = new Audio();
        audio.src = STREAM_URL;
        let isPlaying = false;
        playBtn.addEventListener('click', () => {
            if(isPlaying) { audio.pause(); } 
            else { audio.play().catch(e => alert("Stream not connected. Ensure backend is running.")); }
            toggleState(!isPlaying);
        });
        function toggleState(play) {
            isPlaying = play;
            if(isPlaying) { playIcon.style.display = 'none'; pauseIcon.style.display = 'block'; container.classList.add('playing'); startProgress(); } 
            else { playIcon.style.display = 'block'; pauseIcon.style.display = 'none'; container.classList.remove('playing'); }
        }
        likeBtn.addEventListener('click', () => likeBtn.classList.toggle('active'));
        function startProgress() {
            if(!isPlaying) return;
            let w = parseFloat(progressFill.style.width) || 0; w += 0.1; if(w>100) w=0;
            progressFill.style.width = w + '%'; requestAnimationFrame(startProgress);
        }
    </script>
</body>
</html>
